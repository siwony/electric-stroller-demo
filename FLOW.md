# App Flow Diagram

```
┌─────────────────────────────────────────────────────┐
│                    Home Screen                      │
│  ┌───────────────────────────────────────────────┐ │
│  │         전기 유모차 대여                       │ │
│  │                                                │ │
│  │          [대여 시작 Button]                    │ │
│  │                                                │ │
│  │  ┌──────── Debug Panel ──────────┐           │ │
│  │  │  Step Delay (ms): [10000]      │           │ │
│  │  │  Force Fail: [Toggle Switch]   │           │ │
│  │  └────────────────────────────────┘           │ │
│  └───────────────────────────────────────────────┘ │
│               State: IDLE                           │
└─────────────────────────────────────────────────────┘
                        │
                        │ Click 대여 시작
                        ▼
┌─────────────────────────────────────────────────────┐
│                  Renting Screen                     │
│  ┌───────────────────────────────────────────────┐ │
│  │              대여 중                           │ │
│  │                                                │ │
│  │          [Progress Indicator]                  │ │
│  │                                                │ │
│  │      유모차와 연결 중...                       │ │
│  │           Step 1 / 4                           │ │
│  └───────────────────────────────────────────────┘ │
│               State: RENTING                        │
│               currentStep: 0                        │
└─────────────────────────────────────────────────────┘
                        │
                        │ After 10s delay
                        ▼
┌─────────────────────────────────────────────────────┐
│  ┌───────────────────────────────────────────────┐ │
│  │              대여 중                           │ │
│  │                                                │ │
│  │          [Progress Indicator]                  │ │
│  │                                                │ │
│  │      사용자 인증 중...                         │ │
│  │           Step 2 / 4                           │ │
│  └───────────────────────────────────────────────┘ │
│               State: RENTING                        │
│               currentStep: 1                        │
└─────────────────────────────────────────────────────┘
                        │
                        │ After 10s delay
                        ▼
┌─────────────────────────────────────────────────────┐
│  ┌───────────────────────────────────────────────┐ │
│  │              대여 중                           │ │
│  │                                                │ │
│  │          [Progress Indicator]                  │ │
│  │                                                │ │
│  │      잠금 장치 해제 중...                      │ │
│  │           Step 3 / 4                           │ │
│  └───────────────────────────────────────────────┘ │
│               State: RENTING                        │
│               currentStep: 2                        │
└─────────────────────────────────────────────────────┘
                        │
                        │ After 10s delay
                        ▼
┌─────────────────────────────────────────────────────┐
│  ┌───────────────────────────────────────────────┐ │
│  │              대여 중                           │ │
│  │                                                │ │
│  │          [Progress Indicator]                  │ │
│  │                                                │ │
│  │      대여 완료!                                │ │
│  │           Step 4 / 4                           │ │
│  └───────────────────────────────────────────────┘ │
│               State: RENTING                        │
│               currentStep: 3                        │
└─────────────────────────────────────────────────────┘
                        │
                        │ After 10s delay
                        ▼
┌─────────────────────────────────────────────────────┐
│                   Rented Screen                     │
│  ┌───────────────────────────────────────────────┐ │
│  │             대여 완료                          │ │
│  │                                                │ │
│  │      유모차를 사용 중입니다                    │ │
│  │                                                │ │
│  │          [반납 시작 Button]                    │ │
│  └───────────────────────────────────────────────┘ │
│               State: RENTED                         │
└─────────────────────────────────────────────────────┘
                        │
                        │ Click 반납 시작
                        ▼
┌─────────────────────────────────────────────────────┐
│                 Returning Screen                    │
│  ┌───────────────────────────────────────────────┐ │
│  │              반납 중                           │ │
│  │                                                │ │
│  │          [Progress Indicator]                  │ │
│  │                                                │ │
│  │   유모차를 반납하고 있습니다...                │ │
│  └───────────────────────────────────────────────┘ │
│               State: RETURNING                      │
└─────────────────────────────────────────────────────┘
                        │
                        │ After 10s delay
                        ▼
                  State: RETURNED
                        │
                        │ Auto-reset
                        ▼
              Back to Home Screen (IDLE)
```

## State Machine

```
IDLE ──────────> RENTING ──────────> RENTED ──────────> RETURNING ──────────> RETURNED
  ▲                                                                                │
  │                                                                                │
  └────────────────────────────────────────────────────────────────────────────────┘
                                    (Auto-reset)
```

## Screen Features

### Home Screen
- **Title**: 전기 유모차 대여
- **Button**: 대여 시작 (Start Rental)
- **Debug Panel**:
  - Step Delay input field (default: 10000ms)
  - Force Fail toggle switch

### Renting Screen
- **Title**: 대여 중
- **Progress Indicator**: Circular progress spinner
- **Step Texts** (auto-advance every 10s):
  1. 유모차와 연결 중... (Connecting to stroller...)
  2. 사용자 인증 중... (Authenticating user...)
  3. 잠금 장치 해제 중... (Unlocking device...)
  4. 대여 완료! (Rental complete!)
- **Step Counter**: Shows "Step X / 4"

### Rented Screen
- **Title**: 대여 완료
- **Subtitle**: 유모차를 사용 중입니다 (Stroller is in use)
- **Button**: 반납 시작 (Start Return)

### Returning Screen
- **Title**: 반납 중
- **Progress Indicator**: Circular progress spinner
- **Message**: 유모차를 반납하고 있습니다... (Returning stroller...)
